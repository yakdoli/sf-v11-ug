<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.3  (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGED" CONTENT="20090103;1584646">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 8.5in 11in }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>Foreign-Key Reference Demo</H1>
<P>This sample demonstrates the <STRONG>RelationKind.ForeignKeyReference</STRONG>
relation.</P>
<P><FONT SIZE=4><B>Features:</B></FONT></P>
<UL>
	<LI><P>The foreign-key reference concept is implemented with two
	class files:<STRONG> USStates.cs</STRONG> and <STRONG>Countries.cs</STRONG>.</P>
</UL>
<UL>
	<UL>
		<LI><P><STRONG>USStates.cs </STRONG>contains two classes: <STRONG>USState</STRONG>
		and <STRONG>USStatesCollection</STRONG>.</P>
		<LI><P>The class <STRONG>USState</STRONG> has two properties: <STRONG>Key</STRONG>
		and <STRONG>Name</STRONG>.</P>
	</UL>
</UL>
<UL>
	<LI><P>The<STRONG> USStatesCollection</STRONG> class is implemented from
	the array list.</P>
	<LI><P>It has a method called <STRONG>CreateDefaultCollection() </STRONG> 
	and creates a collection of <STRONG>USStates</STRONG>.</P>
</UL>
<UL>
	<UL>
		<LI><P><STRONG>Countries.cs</STRONG> has two classes: <STRONG>Country
		</STRONG>and <STRONG>CountriesCollection</STRONG>.</P>
		<LI><P>The class <STRONG>Country</STRONG>  has two properties:
		<STRONG>CountryCode</STRONG> and <STRONG>Name</STRONG>.</P>
	</UL>
</UL>
<UL>
	<LI><P>The<STRONG> Country </STRONG>collection is implemented from the
	array list.</P>
</UL>
<P ALIGN=CENTER><img src="images/sample.png" NAME="graphics1" ALT="ForeignKeyReference-Country" ALIGN=BOTTOM BORDER=0>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P>The following code establishes the foreign-key relation.</P>
<PRE><FONT COLOR="#8d2e1c">                // Creating a Relation Descriptor.</FONT>
<FONT COLOR="#8d2e1c">                GridRelationDescriptor usStatesRd = new GridRelationDescriptor();</FONT>
<FONT COLOR="#8d2e1c">                usStatesRd.Name = &quot;State&quot;;</FONT>
<FONT COLOR="#8d2e1c">                </FONT>
<FONT COLOR="#8d2e1c">                // Initialize it's RelationKind.</FONT>
<FONT COLOR="#8d2e1c">                usStatesRd.RelationKind = RelationKind.ForeignKeyReference;</FONT>

<FONT COLOR="#8d2e1c">                // Initialize it's ChildTable from the look-up name of SourceLIstSet.</FONT>
<FONT COLOR="#8d2e1c">                usStatesRd.ChildTableName = &quot;USStates&quot;;  // SourceListSet name for lookup</FONT>

<FONT COLOR="#8d2e1c">                // Mention the file that establishes the relation.</FONT>
<FONT COLOR="#8d2e1c">                usStatesRd.RelationKeys.Add(&quot;State&quot;, &quot;Key&quot;);</FONT>

<FONT COLOR="#8d2e1c">                // Making the relation as 'ReadOnly'.</FONT>
<FONT COLOR="#8d2e1c">                usStatesRd.ChildTableDescriptor.AllowEdit = false;</FONT>
<FONT COLOR="#8d2e1c">                usStatesRd.ChildTableDescriptor.AllowNew = false;   </FONT>

<FONT COLOR="#8d2e1c">                // Adding the relation descriptor to the MainTableDescriptor.</FONT>
<FONT COLOR="#8d2e1c">                mainTd.Relations.Add(usStatesRd);  </FONT></PRE><P>
<STRONG>Foreign Key Helper</STRONG> 
</P>
<P>This sample also provides an option to use <b>ForeignKeyHelper</b>, a built-in helper class 
that can easily set up a <b>ForeginKeyReference</b> relation with a single method call.</P>
<PRE STYLE="margin-bottom: 0.2in"><FONT COLOR="#8d2e1c">GridForeignKeyHelper.SetupForeignTableLookUp(gridGroupingControl1, &quot;Country&quot;, countries, &quot;CountryCode&quot;, &quot;CountryName&quot;);</FONT></PRE>
</BODY>
</HTML>